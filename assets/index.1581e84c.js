import{d as g,m as d,p as v,l as F,a as w,F as x,o as p,c as m,r as S,b as h,t as _,e as c,w as u,f as i,g as f,h as E,B as N}from"./vendor.afa547d7.js";const A=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};A();var b=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};const s=(e,t)=>typeof e===t,O=g({name:"JsonCSV",props:{data:{type:Array,required:!0},fields:{type:[Array,Function],required:!1},name:{type:String,default:"data.csv"},delimiter:{type:String,default:",",required:!1},separatorExcel:{type:Boolean,default:!1},encoding:{type:String,default:"utf-8"},advancedOptions:{type:Object,default:()=>{}},labels:{type:[Object,Function],required:!1},testing:{required:!1,default:!1}},computed:{idName(){const e=new Date().getTime();return"export_"+e},exportableData(){const e=this.cleaningData();return e.length?e:null}},methods:{labelsFunctionGenerator(){let e=this.labels;if(!s(e,"undefined")&&!s(e,"function")&&!s(e,"object"))throw new Error("Labels needs to be a function(value,key) or object.");return s(e,"function")?t=>d(t,e):s(e,"object")?t=>d(t,(r,o)=>e[o]||o):t=>t},fieldsFunctionGenerator(){let e=this.fields;if(!s(e,"undefined")&&!s(e,"function")&&!s(e,"object")&&!Array.isArray(e))throw new Error("Fields needs to be a function(value,key) or array.");return s(e,"function")||s(e,"object")&&!Array.isArray(e)?t=>v(t,e):Array.isArray(e)?t=>F(t,e):t=>t},cleaningData(){if(s(this.fields,"undefined")&&s(this.labels,"undefined"))return this.data;const e=this.labelsFunctionGenerator(),t=this.fieldsFunctionGenerator();return this.data.map(r=>e(t(r)))},generate(){this.$emit("export-started");const e=this.exportableData;if(!e){console.error("No data to export");return}let t=w.exports.unparse(e,Object.assign({delimiter:this.delimiter,encoding:this.encoding},this.advancedOptions));if(this.separatorExcel&&(t="SEP="+this.delimiter+`\r
`+t),this.encoding==="utf-8"&&(t="\uFEFF"+t),this.$emit("export-finished"),!this.testing){let r=new Blob([t],{type:"text/csv;charset="+this.encoding});x.exports.saveAs(r,this.name)}}}}),C=["id"];function D(e,t,r,o,n,a){return p(),m("div",{id:e.idName,onClick:t[0]||(t[0]=(...l)=>e.generate&&e.generate(...l))},[S(e.$slots,"default",{},()=>[h("Download "+_(e.name),1)],!0)],8,C)}var j=b(O,[["render",D],["__scopeId","data-v-d949700c"]]);const J={name:"App",components:{"download-csv":j},computed:{readableJson:function(){return JSON.stringify(this.jsonData,null,2)}},data(){return{jsonData:[{id:1,fname:"Jesse",lname:"Simmons",date:"2016-10-15 13:43:27",gender:"Male"},{id:2,fname:"John",lname:"Jacobs",date:"2016-12-15 06:00:53",gender:"Male"},{id:3,fname:"Tina",lname:"Gilbert",date:"2016-04-26 06:26:28",gender:"Female"},{id:4,fname:"Clarence",lname:"Flores",date:"2016-04-10 10:28:46",gender:"Male"},{id:5,fname:"Anne",lname:"Lee",date:"2016-12-06 14:38:38",gender:"Female"},{id:6,fname:"\u4F5F\u535A",lname:"\u80FD\u5A1C",date:"2016-12-06 14:38:38",gender:"Male"},{id:7,fname:"\u0160ir\u016F\u010Dkov\xE1",lname:"Tereza",date:"2019-12-06 14:38:38",gender:"Female"}],dataFile:"my_export.csv",labels:{fname:"First Name",lname:"Last Name"},fields:["id","fname","lname","date"],isExported:!1}},methods:{exported(e){console.log(e),this.isExported=!0,setTimeout(()=>{this.isExported=!1},3*1e3)}}},k={class:"container is-widescreen"},B=i("h1",{class:"title"}," JSON to CSV ",-1),L=h(" File Exported "),V={class:"notification has-text-centered"},T=i("p",{class:"subtitle"},"Click on the button to download the following JSON in CSV.",-1),$=i("p",{class:"subtitle"},"The fname and lname will be replaced by First Name and Last Name in the CSV.",-1),q=i("p",{class:"subtitle"},"By default the file will be encoded in UTF8.",-1),G=i("button",{class:"button"},"Download",-1);function M(e,t,r,o,n,a){const l=f("b-notification"),y=f("download-csv");return p(),m("div",k,[B,c(l,{active:n.isExported},{default:u(()=>[L]),_:1},8,["active"]),i("div",V,[T,$,q,i("div",null,[c(y,{data:n.jsonData,name:n.dataFile,labels:n.labels,fields:n.fields,onExportFinished:a.exported},{default:u(()=>[G]),_:1},8,["data","name","labels","fields","onExportFinished"])])]),i("div",null,[i("pre",null,_(a.readableJson),1)])])}var K=b(J,[["render",M]]);window.vue=E(K).mount("#app");window.vue.use(N);
